<!DOCTYPE html>
<html>
  <head>
      <title>GDX</title>
      <link rel="stylesheet" href="styles.css" />

      <script>
      function jump() {
        var actor = document.getElementById('actor');
        var cube = document.getElementById('cube');
        if(!actor.classList.contains('jumping')) {
          actor.classList.add('jumping');
          if(cube.classList.contains('flipped')) {
            cube.classList.replace('flipped', 'flippingback');
          } else {
            cube.classList.add('flipped');
          }
        }
      }
      window.addEventListener('DOMContentLoaded', function() {
        var isMouseDown = false;
        document.addEventListener('mousedown', function() {
          isMouseDown = true;
          jump();
        });
        document.addEventListener('mouseup', function() {
          isMouseDown = false;
        });
        document.addEventListener('touchstart', function() {
          isMouseDown = true;
          jump();
        });
        document.addEventListener('touchend', function() {
          isMouseDown = false;
        });
        document.addEventListener('mousemove', function() {
          if (isMouseDown) {
            jump();
          }
        });
      });
      </script>

  </head>
  <body>
    <div id="stage">

      <div id="slide">
        <div id="actor">
          <div id="cube">
            <div id="des1"></div>
            <div id="des2"></div>
            <div id="des3"></div>
          </div>
        </div>
      </div>

    </div>

  <script>
    const theActor = document.getElementById("actor");
    theActor.addEventListener('animationend', () => {
      theActor.classList.remove('jumping');
      var cube = document.getElementById('cube');
      cube.classList.remove('flippingback');


    });
  </script>

  </body>
</html>
